;;;;;;;;;;;;;;;;;;;;;;;;;
; (C) ALIKBEROV 2024.04
;;;;;;;;;;;;;;;;;;;;;;;;;
TEMPSP:	EQU	0760DH
TEMPA:	EQU	0762EH

	LXI	SP,075FFH
	LXI	H,0C9E1H
	PUSH	H
	LXI	H,00000H
	PUSH	H
	DAD	SP
	SHLD	TEMPSP
	MVI	A,031H
	PUSH	PSW
	INX	SP
	;;;;;;;;;;;;;;;;
	LXI	H,0E5E5H
	MVI	A,010H
L0:	PUSH	H
	DCR	A
	JNZ	L0
	;;;;;;;;;;;;;;;;
	LXI	H,00000H
	PUSH	H
	MVI	A,021H
	PUSH	PSW
	INX	SP
	;;;;;;;;;;;;;;;;
	MVI	A,018H
	STA	TEMPA
	LXI	B,07F12H
	LXI	D,022E1H
	;;;;;;;;;;;;;;;;
L1:	LXI	H,0FFF0H
	DAD	B
	MVI	A,020H
	;;;;;;;;;;;;;;;;;
L2:	PUSH	H
	PUSH	D
	DCX	H
	DCX	H
	DCR	A
	JNZ	L2
	PUSH	B
	MVI	A,031H
	PUSH	PSW
	INX	SP
	LXI	H,0FFB2H
	DAD	B
	MOV	B,H
	MOV	C,L
	LXI	H,TEMPA
	DCR	M
	JNZ	L1
	;;;;;;;;;;;;;;;;
	LHLD	TEMPSP
	PUSH	H
	LXI	D,02239H
	PUSH	D
	LXI	H,00000H
	PUSH	H
	LXI	H,021E5H
	PUSH	H
	
	;;;;;;;;;;;;;;;;
	LXI	H,00000H
	DAD	SP
	LXI	B,0E000H
L3:	LXI	D,07F12H
	MOV	A,B
	CALL	PUTHEX
	MOV	A,C
L4:	CALL	PUTHEX
	INX	D
	MOV	A,C
	INR	A
	ANI	00FH
	LDAX	B
	INX	B
	JNZ	L4
	;;;;;;;;;;;;;;;;
	LXI	D,L3
	PUSH	D
	PCHL

PUTHEX:	CALL	PUTNBL
PUTNBL:	RRC
	RRC
	RRC
	RRC
	PUSH	PSW
	ANI	00FH
	CPI	00AH
	SBI	02FH
	DAA
	STAX	D
	INX	D
	POP	PSW
	RET